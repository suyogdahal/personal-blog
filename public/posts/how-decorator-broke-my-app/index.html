<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><script>!function(e,t){var n,s,o,i;t.__SV||(window.posthog=t,t._i=[],t.init=function(a,r,c){function d(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}(s=e.createElement("script")).type="text/javascript",s.async=!0,s.src=r.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(i=e.getElementsByTagName("script")[0]).parentNode.insertBefore(s,i);var l=t;for(void 0!==c?l=t[c]=[]:c="posthog",l.people=l.people||[],l.toString=function(e){var t="posthog";return"posthog"!==c&&(t+="."+c),e||(t+=" (stub)"),t},l.people.toString=function(){return l.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)d(l,o[n]);t._i.push([a,r,c])},t.__SV=1)}(document,window.posthog||[]),posthog.init("phc_vxLUYaSwR9EKaAuLgPH3xmn605L4wA8ChJZtmwJEgiI",{api_host:"https://us.i.posthog.com",person_profiles:"identified_only"})</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How a Python Decorator Crashed My Flask App: Lessons Learned | Suyog's personal blog</title>
<meta name=keywords content="python"><meta name=description content="Python decorators are wonderful. They let you modify or extend the behavior of functions or methods without permanently modifying their source code. I&rsquo;ve used them in several places in my code to add features to my functions. But recently, I came across a weird, or rather interesting, bug that I felt was worth sharing.
The Issue So I had a Flask API that was responsible for ML inference. Here is what the rough structure of the project looked like:"><meta name=author content="Suyog"><link rel=canonical href=http://localhost:1313/posts/how-decorator-broke-my-app/><meta name=google-site-verification content="GTM-N8FH88H3"><link crossorigin=anonymous href=/assets/css/stylesheet.4c28a66a94bdf0c82a26d82167028400897c838afe288e620ef5588afed79ea4.css integrity="sha256-TCimapS98MgqJtghZwKEAIl8g4r+KI5iDvVYiv7XnqQ=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon_io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon_io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon_io/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/favicon_io/apple_touch_icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/how-decorator-broke-my-app/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="How a Python Decorator Crashed My Flask App: Lessons Learned"><meta property="og:description" content="Python decorators are wonderful. They let you modify or extend the behavior of functions or methods without permanently modifying their source code. I&rsquo;ve used them in several places in my code to add features to my functions. But recently, I came across a weird, or rather interesting, bug that I felt was worth sharing.
The Issue So I had a Flask API that was responsible for ML inference. Here is what the rough structure of the project looked like:"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/how-decorator-broke-my-app/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-07-01T11:07:28+05:45"><meta property="article:modified_time" content="2024-07-01T11:07:28+05:45"><meta property="og:site_name" content="Suyog's personal blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="How a Python Decorator Crashed My Flask App: Lessons Learned"><meta name=twitter:description content="Python decorators are wonderful. They let you modify or extend the behavior of functions or methods without permanently modifying their source code. I&rsquo;ve used them in several places in my code to add features to my functions. But recently, I came across a weird, or rather interesting, bug that I felt was worth sharing.
The Issue So I had a Flask API that was responsible for ML inference. Here is what the rough structure of the project looked like:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"How a Python Decorator Crashed My Flask App: Lessons Learned","item":"http://localhost:1313/posts/how-decorator-broke-my-app/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How a Python Decorator Crashed My Flask App: Lessons Learned","name":"How a Python Decorator Crashed My Flask App: Lessons Learned","description":"Python decorators are wonderful. They let you modify or extend the behavior of functions or methods without permanently modifying their source code. I\u0026rsquo;ve used them in several places in my code to add features to my functions. But recently, I came across a weird, or rather interesting, bug that I felt was worth sharing.\nThe Issue So I had a Flask API that was responsible for ML inference. Here is what the rough structure of the project looked like:","keywords":["python"],"articleBody":"Python decorators are wonderful. They let you modify or extend the behavior of functions or methods without permanently modifying their source code. I’ve used them in several places in my code to add features to my functions. But recently, I came across a weird, or rather interesting, bug that I felt was worth sharing.\nThe Issue So I had a Flask API that was responsible for ML inference. Here is what the rough structure of the project looked like:\nproject/ ├── app/ │ ├── utils/ │ ├── __init.py__ │ ├── decorators.py | ├── __init.py__ │ ├── app.py │ ├── ... app/app.py\n# all other imports .... from utils.decorators import timeit @app.route('/v1/predict/', methods=['POST']) @timeit def predict_v1(...): # do something So as you can see above, I had a fairly simple decorator for timing the execution of an endpoint. Here is what a rough implementation of the decorator looked like:\napp/decorators.py\nimport time def timeit(func): def wrapper(*args, **kwargs): start_time = time.time() result = func(*args, **kwargs) end_time = time.time() elapsed_time = end_time - start_time print(f\"Function '{func.__name__}' executed in {elapsed_time:.4f} seconds\") return result return wrapper For those Python wizards out there who can immediately identify the issue by seeing the snippets above, feel free to skip the rest of this article (you guys have my respect). For those who do not see any issue with the above snippets, please read along. You deserve to know the issue! :)\nThis application was working fine for a long time until I decided to modify some pre-processing logic in the ML inference. I did not directly update the current endpoint as the changes were not quite backward compatible. So I created a /v2/ endpoint for the new changes. My application now looked something like this:\napp/app.py\n# all other imports .... from utils.decorators import timeit @app.route('/v1/predict/', methods=['POST']) @timeit def predict_v1(...): # do something @app.route('/v2/predict/', methods=['POST']) @timeit def predict_v2(...): # do something, but differently ;) Everything looked good, I had tested the new logic in isolation, and it was working exactly how I needed it to. So, with full confidence I started my flask server with flask run and the server instantly crashed.\nPuzzled as to why this happened, I checked the logs. There, I saw a new error message. It wasn’t the typical kind of message I was used to seeing at my job:\nAssertionError: View function mapping is overwriting an existing endpoint function: wrapper Understanding the Issue Ok let’s break the error message.\nThe first part of the message AssertionError: View function mapping is overwriting an existing endpoint function indicates that something went wrong in the Flask server regarding the route definitions. This message basically says that there are two routes with the same function name which is not allowed in Flask. You can refer to this article to understand more about Flask routes.\nBut how did this happen? I had explicitly named the functions predict_v1 and predict_v2. Why was this assertion error raised?\nAhh, the error message points to the culprit too: the function name wrapper.\nAfter spending some time, I figured out what had happened: When we applied the timeit decorator to our functions, the decorator returned a new function named wrapper. This meant that both of our route functions predict_v1 and predict_v2, were being replaced by a single function named wrapper. Flask uses the function name as the endpoint name by default. Since both decorated functions were now named wrapper, Flask tried to register multiple route functions with the same name, causing the AssertionError.\nThe Solution After understanding the issue, my immediate intuitive solution was to explicitly rename the wrapper function to the original function name inside the decorator before returning it.\napp/decorators.py\nimport time def timeit(func): def wrapper(*args, **kwargs): start_time = time.time() result = func(*args, **kwargs) end_time = time.time() elapsed_time = end_time - start_time print(f\"Function '{func.__name__}' executed in {elapsed_time:.4f} seconds\") return result wrapper.__name__ = func.__name__ # rename the function name before returning return wrapper ","wordCount":"652","inLanguage":"en","datePublished":"2024-07-01T11:07:28+05:45","dateModified":"2024-07-01T11:07:28+05:45","author":{"@type":"Person","name":"Suyog"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/how-decorator-broke-my-app/"},"publisher":{"@type":"Organization","name":"Suyog's personal blog","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon_io/favicon-32x32.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/about/ title=about><span>about</span></a></li><li><a href=http://localhost:1313/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">How a Python Decorator Crashed My Flask App: Lessons Learned
<span class=entry-hint title=Draft><svg xmlns="http://www.w3.org/2000/svg" height="35" viewBox="0 -960 960 960" fill="currentcolor"><path d="M160-410v-60h3e2v60H160zm0-165v-60h470v60H160zm0-165v-60h470v60H160zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22-4.5 22.5T862.09-380L643-160H520zm3e2-263-37-37 37 37zM580-220h38l121-122-18-19-19-18-122 121v38zm141-141-19-18 37 37-18-19z"/></svg></span></h1><div class=post-meta><span title='2024-07-01 11:07:28 +0545 +0545'>July 1, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;<a href=/tags/python> python</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#the-issue>The Issue</a></li><li><a href=#understanding-the-issue>Understanding the Issue</a></li><li><a href=#the-solution>The Solution</a></li></ul></nav></div></details></div><div class=post-content><p>Python decorators are wonderful. They let you modify or extend the behavior of functions or methods without permanently modifying their source code. I&rsquo;ve used them in several places in my code to add features to my functions. But recently, I came across a weird, or rather interesting, bug that I felt was worth sharing.</p><h2 id=the-issue>The Issue<a hidden class=anchor aria-hidden=true href=#the-issue>#</a></h2><p>So I had a Flask API that was responsible for ML inference. Here is what the rough structure of the project looked like:</p><pre tabindex=0><code>project/
├── app/
│   ├── utils/
│       ├── __init.py__
│       ├── decorators.py
|   ├── __init.py__
│   ├── app.py
│   ├── ...
</code></pre><p><code>app/app.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># all other imports</span>
</span></span><span class=line><span class=cl><span class=o>....</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>utils.decorators</span> <span class=kn>import</span> <span class=n>timeit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/v1/predict/&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nd>@timeit</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict_v1</span><span class=p>(</span><span class=o>...</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># do something</span>
</span></span></code></pre></div><p>So as you can see above, I had a fairly simple decorator for timing the execution of an endpoint. Here is what a rough implementation of the decorator looked like:</p><p><code>app/decorators.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>timeit</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>elapsed_time</span> <span class=o>=</span> <span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Function &#39;</span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&#39; executed in </span><span class=si>{</span><span class=n>elapsed_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2> seconds&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span></code></pre></div><p>For those Python wizards out there who can immediately identify the issue by seeing the snippets above, feel free to skip the rest of this article (you guys have my respect). For those who do not see any issue with the above snippets, please read along. You deserve to know the issue! :)</p><p>This application was working fine for a long time until I decided to modify some pre-processing logic in the ML inference. I did not directly update the current endpoint as the changes were not quite backward compatible. So I created a <code>/v2/</code> endpoint for the new changes. My application now looked something like this:</p><p><code>app/app.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># all other imports</span>
</span></span><span class=line><span class=cl><span class=o>....</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>utils.decorators</span> <span class=kn>import</span> <span class=n>timeit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/v1/predict/&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nd>@timeit</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict_v1</span><span class=p>(</span><span class=o>...</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># do something</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/v2/predict/&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nd>@timeit</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict_v2</span><span class=p>(</span><span class=o>...</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># do something, but differently ;)</span>
</span></span></code></pre></div><p>Everything looked good, I had tested the new logic in isolation, and it was working exactly how I needed it to. So, with full confidence I started my flask server with <code>flask run</code> and the server instantly crashed.</p><p>Puzzled as to why this happened, I checked the logs. There, I saw a new error message. It wasn&rsquo;t the typical kind of message I was used to seeing at my job:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>AssertionError: View <span class=k>function</span> mapping is overwriting an existing endpoint <span class=k>function</span>: wrapper
</span></span></code></pre></div><div style=display:flex;justify-content:center;align-items:center><img src=/img/decorator/crash_meme.jpg alt="crash meme lol"></div><h2 id=understanding-the-issue>Understanding the Issue<a hidden class=anchor aria-hidden=true href=#understanding-the-issue>#</a></h2><p>Ok let&rsquo;s break the error message.</p><p>The first part of the message <code>AssertionError: View function mapping is overwriting an existing endpoint function</code> indicates that something went wrong in the Flask server regarding the route definitions. This message basically says that there are two routes with the same function name which is not allowed in Flask. You can refer to <a href=https://dev.to/emma_donery/python-flask-app-routing-3l57>this</a> article to understand more about Flask routes.</p><p>But how did this happen? I had explicitly named the functions <code>predict_v1</code> and <code>predict_v2</code>. Why was this assertion error raised?</p><p>Ahh, the error message points to the culprit too: the function name <code>wrapper</code>.</p><p>After spending some time, I figured out what had happened: When we applied the <code>timeit</code> decorator to our functions, the decorator returned a new function named <code>wrapper</code>. This meant that both of our route functions <code>predict_v1</code> and <code>predict_v2</code>, were being replaced by a single function named <code>wrapper</code>. Flask uses the function name as the endpoint name by default. Since both decorated functions were now named <code>wrapper</code>, Flask tried to register multiple route functions with the same name, causing the <code>AssertionError</code>.</p><h2 id=the-solution>The Solution<a hidden class=anchor aria-hidden=true href=#the-solution>#</a></h2><p>After understanding the issue, my immediate intuitive solution was to explicitly rename the wrapper function to the original function name inside the decorator before returning it.</p><p><code>app/decorators.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>timeit</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>elapsed_time</span> <span class=o>=</span> <span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Function &#39;</span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&#39; executed in </span><span class=si>{</span><span class=n>elapsed_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2> seconds&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=n>wrapper</span><span class=o>.</span><span class=vm>__name__</span> <span class=o>=</span> <span class=n>func</span><span class=o>.</span><span class=vm>__name__</span> <span class=c1># rename the function name before returning</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/python/>Python</a></li></ul><nav class=paginav><a class=next href=http://localhost:1313/posts/dspy-prompt-tuning/><span class=title>Next »</span><br><span>Prompt Tuning with DSPy</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=suyogdahal/suyogdahal.github.io data-repo-id=R_kgDOMFtnVQ data-category=General data-category-id=DIC_kwDOMFtnVc4CgAkO data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Suyog's personal blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>